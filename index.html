<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Hank's Top Movies</title>

	<!-- Our CSS File along with Boostrap, and Bootstrap Icon Styles-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
	<link rel="stylesheet" type='text/css' href="style.css"/>
	  
	<!-- DO NOT CHANGE ANYTHING ABOVE THIS LINE-->

	<!-- Javascript Framework (e.g., vue.js) (ADD HERE) -->
	<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>


</head>

  <body>
 	<div id="vue_app" :class="['container', theme]">

		<div class="header">
		  <div class="container d-flex align-items-center justify-content-between">
		    <h1 id="app_title">{{ title }}</h1>
			<div class="view-toggle btn-group" role="group" aria-label="View toggle">
				<button type="button" class="btn btn-sm btn-outline-light" :class="{active: viewMode==='grid'}" @click="viewMode='grid'">Grid</button>
				<button type="button" class="btn btn-sm btn-outline-light" :class="{active: viewMode==='carousel'}" @click="viewMode='carousel'">Carousel</button>
			</div>
			<div class="theme-toggle ms-3">
				<button class="btn btn-sm btn-outline-light" @click="toggleTheme()" :title="theme === 'dark' ? 'Switch to light' : 'Switch to dark'">
					<i :class="theme === 'dark' ? 'bi bi-sun' : 'bi bi-moon'"></i>
				</button>
			</div>
		  </div>

		</div>

		<div class="main">

	  <div class="container"> <!-- center content inside main -->

		  <!-- Grid view -->
		  <div class="row" v-if="viewMode==='grid'">
		    <div class="col-md-6" v-for="(movie, index) in movies" :key="index">
		      <div class="thumbnail">

		        <img class="poster img-fluid posters" :src="movie.posters[movie.posterindex]" @click="posterClick(index)" />
		        <div class="imageInfo">Poster {{ movie.posterindex + 1 }} of {{ movie.posters.length }}</div>

		        <p class="title">{{ movie.title }} ({{ movie.country }})</p>
		        <p class="score"><i class="bi bi-star" aria-hidden="true"></i> {{ movie.iscore }} </p>
		        <p class="runtime">Runtime: {{ timeText(movie.runtime) }}</p>
		        <p class="released">Released: {{ getMonthText(movie.released) }} | Rated: {{ movie.rating }}</p>
		        <p class="websites">Websites: <a :href="movie.imdb" target="_blank" rel="noopener"> IMDb</a> | <a :href="movie.website" target="_blank" rel="noopener">Website</a></p>

		        <div class="social">
		          <p class="likes" @click="like(index)"><i class="bi bi-hand-thumbs-up" aria-hidden="true"></i> {{ movie.likes }}</p>
		          <p class="dislikes" @click="dislike(index)"><i class="bi bi-hand-thumbs-down"></i> {{ movie.dislikes }}</p>
		        </div>
		      </div>
		    </div>
		  </div>

		  <!-- Carousel view -->
		  <div class="carousel-container" v-if="viewMode==='carousel'">
		    <div class="carousel-card">
		      <button class="carousel-nav prev" @click="prevMovie()" aria-label="Previous">&larr;</button>

		      <div class="carousel-content" v-if="movies.length">
		        <div class="carousel-poster-wrap">
		          <img class="poster img-fluid" :src="movies[carouselIndex].posters[movies[carouselIndex].posterindex]" @click="posterClick(carouselIndex)" />
		          <div class="imageInfo">Poster {{ movies[carouselIndex].posterindex + 1 }} of {{ movies[carouselIndex].posters.length }}</div>
		          <p class="score"><i class="bi bi-star" aria-hidden="true"></i> {{ movies[carouselIndex].iscore }}</p>
		        </div>

		        <div class="carousel-info">
		          <h2 class="title">{{ movies[carouselIndex].title }}</h2>
		          <p class="runtime">Runtime: {{ timeText(movies[carouselIndex].runtime) }}</p>
		          <p class="released">Released: {{ getMonthText(movies[carouselIndex].released) }} | Rated: {{ movies[carouselIndex].rating }}</p>
		          <p class="websites">Websites: <a :href="movies[carouselIndex].imdb" target="_blank" rel="noopener">IMDb</a> | <a :href="movies[carouselIndex].website" target="_blank" rel="noopener">Website</a></p>

		          <div class="social">
		            <p class="likes" @click="like(carouselIndex)"><i class="bi bi-hand-thumbs-up" aria-hidden="true"></i> {{ movies[carouselIndex].likes }}</p>
		            <p class="dislikes" @click="dislike(carouselIndex)"><i class="bi bi-hand-thumbs-down"></i> {{ movies[carouselIndex].dislikes }}</p>
		          </div>
		        </div>
		      </div>

		      <button class="carousel-nav next" @click="nextMovie()" aria-label="Next">&rarr;</button>
		    </div>

		    <div class="carousel-indicators">
		      <span v-for="(m,i) in movies" :key="i" class="indicator" :class="{active: i === carouselIndex}" @click="selectMovie(i)"></span>
		    </div>
		  </div>

		  </div> <!-- /.container -->

		</div>

	    <div class="footer">
	      <div class="container">
			<a id="github" class="btn btn-lg btn-warning" :href="github" target="_blank" rel="noopener">
				<i class="bi bi-github me-2"></i>{{ owner }}
			</a>
	      </div>
	    </div>
	</div>

  	<!-- This load the Vue.js code -->
	<script type="text/javascript" src="site.js"></script>


</body>
</html>
